<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Graphrel</title>
    <link rel="stylesheet" type="text/css" href="http://w2ui.com/src/w2ui-1.4.2.min.css" />
    <link rel="stylesheet" type="text/css" href="main.css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    <script type="text/javascript" src="http://w2ui.com/src/w2ui-1.4.2.min.js"></script>
</head>
<body>

<div id="header">
    <h2>Graphrel--relation-based WYSIWYG graph editor</h2>
    <p>under construction; check back later...</p>
</div>

<div id="control_buttons" style="position:relative;left:3px">
<button class="btn" onclick="w2ui['layout'].toggle('top', window.instant)">Instructions</button>
<button class="btn" onclick="w2ui['layout'].toggle('right', window.instant)">Relation Editor</button>
<input type="checkbox" id="instant" onclick="window.instant = this.checked;"> <label for="instant">Instant</label>
</div>

<div id="layout" style="width: 100%; height: 500px;"></div>

<div id="footer" style="height: 10px;"></div>



<script type="text/javascript">
/* Going with minimal design here. Currently only support main editor (main), JSON style graph builder (right), Adjacency matrix (right) */
$(function () {
    var pstyle = 'border: 1px solid #dfdfdf; padding: 5px;';
    $('#layout').w2layout({
        name: 'layout',
        padding: 4,
        panels: [
            { type: 'top', size: 80, resizable: true, style: pstyle, content: '<div><ol><li>Click in the open space to add a node, drag from one node to another to add an edge. Ctrl-drag a node to move the graph layout. Click a node or an edge to select it.</li><li>When a node is selected: R toggles reflexivity, Delete removes the node. When an edge is selected: L(eft), R(ight), B(oth) change direction, Delete removes the edge.</li><li>Edit the JSON structure and/or adjacency matrix to see real-time updates</li></ol></div>' },
            <!-- for some reason main iframe gets cropped if resized to less than 500, which is roughly the svg width... currently put a hard limit on minSize -->
            { type: 'main', minSize: 450, resizable: true, style: pstyle, content: "<div style='width: 100%; height: 100%'><iframe marginwidth='0' xmarginheight='0' scrolling='no' src='app.html'></iframe></div>" },
            { type: 'right', size: 600, resizable: true, style: pstyle, content: 'right' },
            


        ]
    });

    var pstyle = 'background-color: #F0F0C1; border: 1px solid #dfdfdf; padding: 5px;';
    $().w2layout({
        name: 'layout2',
        panels: [
            { type: 'main', style: pstyle, content: 'Relation in JSON' },
            { type: 'preview', size: '50%', resizable: true, style: pstyle, content: 'Adjacency Matrix' },
        ]
    });
    
    w2ui['layout'].content('right', w2ui['layout2']);

});
</script>

</body>
</html>